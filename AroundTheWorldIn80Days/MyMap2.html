<!DOCTYPE html> 
<html> 
//003
<head> 
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/> 
   <meta http-equiv="X-UA-Compatible" content="IE=9"/>
   <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css" 
   integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
   crossorigin=""/>
   <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
   integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
   crossorigin=""></script>
</head> 
<body> 
   <div id="map" class="map" style="position: absolute; top: 0px; right: 0px; bottom: 0px; left: 0px; "></div>
   <script type="text/javascript">
      function sayHello() {
         var html = document.documentElement.innerHTML;
         var version = "004";
         let str = html.substring(21, 30);
         //alert(document.documentElement.innerHTML);
var img = new Image();
img.src = '/flag.png';
img.onload = function(){alert('картинка существует')};
img.onerror = function(){alert('картинка не существует')};

         if(str.includes(version)){
              //alert('version equel');
              //alert(str);
              //alert(version);
         }
         else{
              //alert('version diferent, ${str}');
              //location.reload();
         }
      }
      setInterval(sayHello, 3000)

      var map = L.map('map');
      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png?{foo}', {foo: 'bar', attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>'}).addTo(map);
         var marker = L.marker([41.900000, 12.450000], {title:'Vatican City'}).addTo(map);
         var marker = L.marker([43.933333, 12.416667], {title:'San Marino'}).addTo(map);
         var LeafIcon = L.Icon.extend({options: {shadowUrl: 'Data/icons8.png',iconSize : [48, 48] ,shadowSize : [51, 37] ,iconAnchor : [16, 37] ,shadowAnchor : [16, 37] ,popupAnchor : [0, -30]}});          var LeafIcon = L.Icon.extend({options: {shadowUrl: 'Data/icons9.png',iconSize : [48, 48] ,shadowSize : [51, 37] ,iconAnchor : [16, 37] ,shadowAnchor : [16, 37] ,popupAnchor : [0, -30]}});          var coffeeIcon = new LeafIcon({ iconUrl: 'Data/icons8.png' });         var hintIcon = new LeafIcon({ iconUrl: 'Data/icons9.png' });         var marker = L.marker([33.500000, 36.300000], {icon: coffeeIcon, title:'Damascus'}).addTo(map); 
         var altlatlngs = [[41.900000, 12.450000],[43.933333, 12.416667]]; 
         var altpolyline = L.polyline(altlatlngs, { color: 'blue', weight : 5, opacity : 0.7 }).addTo(map); 
         var altlatlngs2 = [[41.900000, 12.450000],[33.500000, 36.300000]];
         var altpolyline2 = L.polyline(altlatlngs2, { color: 'yellow', weight : 5, opacity : 0.7 }).addTo(map); 
         map.fitBounds(altpolyline.getBounds()); 
         map.setView([0, 0], 2); 
   </script> 
</body> 
</html>